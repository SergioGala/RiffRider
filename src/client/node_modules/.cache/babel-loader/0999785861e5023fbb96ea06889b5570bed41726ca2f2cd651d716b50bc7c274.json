{"ast":null,"code":"var _jsxFileName = \"/workspaces/RiffRider/src/client/src/components/AudioPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioPlayer = ({\n  audioSrc,\n  songTitle,\n  artistName,\n  isPlaying,\n  setIsPlaying,\n  onClose\n}) => {\n  _s();\n  const audioRef = useRef(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio) {\n      const handleTimeUpdate = () => setCurrentTime(audio.currentTime);\n      const handleLoadedMetadata = () => setDuration(audio.duration);\n      const handleEnded = () => {\n        setIsPlaying(false);\n        setCurrentTime(0);\n      };\n      audio.addEventListener('timeupdate', handleTimeUpdate);\n      audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n      audio.addEventListener('ended', handleEnded);\n      return () => {\n        audio.removeEventListener('timeupdate', handleTimeUpdate);\n        audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n        audio.removeEventListener('ended', handleEnded);\n      };\n    }\n  }, [setIsPlaying]);\n  useEffect(() => {\n    if (audioRef.current && audioSrc) {\n      audioRef.current.src = audioSrc;\n      if (isPlaying) {\n        audioRef.current.play().catch(e => console.error(\"Error playing audio:\", e));\n      }\n      setCurrentTime(0);\n    }\n  }, [audioSrc, isPlaying]);\n  const togglePlay = () => {\n    if (audioRef.current) {\n      if (isPlaying) {\n        audioRef.current.pause();\n      } else {\n        audioRef.current.play().catch(e => console.error(\"Error playing audio:\", e));\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n  const handleSeek = e => {\n    const time = Number(e.target.value);\n    if (audioRef.current) {\n      audioRef.current.currentTime = time;\n      setCurrentTime(time);\n    }\n  };\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n  if (!audioSrc) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audio-player\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: songTitle || 'No hay canci贸n seleccionada'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: artistName || 'Artista desconocido'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No hay previsualizaci\\xF3n disponible para esta canci\\xF3n.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"close-button\",\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-player\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audio-player-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"close-button\",\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: songTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: artistName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: togglePlay,\n        children: isPlaying ? 'Pause' : 'Play'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        min: \"0\",\n        max: duration,\n        value: currentTime,\n        onChange: handleSeek\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [formatTime(currentTime), \" / \", formatTime(duration)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioPlayer, \"9mEWNoPLCYgMdN03YTdifhaUv9M=\");\n_c = AudioPlayer;\nexport default AudioPlayer;\nvar _c;\n$RefreshReg$(_c, \"AudioPlayer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","AudioPlayer","audioSrc","songTitle","artistName","isPlaying","setIsPlaying","onClose","_s","audioRef","currentTime","setCurrentTime","duration","setDuration","audio","current","handleTimeUpdate","handleLoadedMetadata","handleEnded","addEventListener","removeEventListener","src","play","catch","e","console","error","togglePlay","pause","handleSeek","time","Number","target","value","formatTime","minutes","Math","floor","seconds","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","type","min","max","onChange","_c","$RefreshReg$"],"sources":["/workspaces/RiffRider/src/client/src/components/AudioPlayer.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\nconst AudioPlayer = ({ audioSrc, songTitle, artistName, isPlaying, setIsPlaying, onClose }) => {\n  const audioRef = useRef(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio) {\n      const handleTimeUpdate = () => setCurrentTime(audio.currentTime);\n      const handleLoadedMetadata = () => setDuration(audio.duration);\n      const handleEnded = () => {\n        setIsPlaying(false);\n        setCurrentTime(0);\n      };\n\n      audio.addEventListener('timeupdate', handleTimeUpdate);\n      audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n      audio.addEventListener('ended', handleEnded);\n\n      return () => {\n        audio.removeEventListener('timeupdate', handleTimeUpdate);\n        audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n        audio.removeEventListener('ended', handleEnded);\n      };\n    }\n  }, [setIsPlaying]);\n\n  useEffect(() => {\n    if (audioRef.current && audioSrc) {\n      audioRef.current.src = audioSrc;\n      if (isPlaying) {\n        audioRef.current.play().catch(e => console.error(\"Error playing audio:\", e));\n      }\n      setCurrentTime(0);\n    }\n  }, [audioSrc, isPlaying]);\n\n  const togglePlay = () => {\n    if (audioRef.current) {\n      if (isPlaying) {\n        audioRef.current.pause();\n      } else {\n        audioRef.current.play().catch(e => console.error(\"Error playing audio:\", e));\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handleSeek = (e) => {\n    const time = Number(e.target.value);\n    if (audioRef.current) {\n      audioRef.current.currentTime = time;\n      setCurrentTime(time);\n    }\n  };\n\n  const formatTime = (time) => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n\n  if (!audioSrc) {\n    return (\n      <div className=\"audio-player\">\n        <h3>{songTitle || 'No hay canci贸n seleccionada'}</h3>\n        <p>{artistName || 'Artista desconocido'}</p>\n        <p>No hay previsualizaci贸n disponible para esta canci贸n.</p>\n        <button onClick={onClose} className=\"close-button\">Cerrar</button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"audio-player\">\n      <div className=\"audio-player-header\">\n        <button onClick={onClose} className=\"close-button\">X</button>\n        <h3>{songTitle}</h3>\n      </div>\n      <p>{artistName}</p>\n      <audio ref={audioRef} />\n      <div className=\"controls\">\n        <button onClick={togglePlay}>{isPlaying ? 'Pause' : 'Play'}</button>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max={duration}\n          value={currentTime}\n          onChange={handleSeek}\n        />\n        <span>{formatTime(currentTime)} / {formatTime(duration)}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}